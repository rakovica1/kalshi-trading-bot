{% extends "base.html" %}
{% block title %}Dashboard - Nightrader{% endblock %}
{% block content %}
<h1 class="text-2xl font-bold text-white mb-6">Dashboard</h1>

<!-- Primary stats -->
<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Balance</div>
    <div class="text-2xl font-bold text-white">${{ "%.2f"|format(balance_cents / 100) }}</div>
  </div>

  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Unrealized P&amp;L</div>
    <div class="text-2xl font-bold {{ 'text-emerald-400' if unrealized_cents >= 0 else 'text-red-400' }}">
      ${{ "%+.2f"|format(unrealized_cents / 100) }}
    </div>
  </div>

  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Realized P&amp;L</div>
    <div class="text-2xl font-bold {{ 'text-emerald-400' if realized_cents >= 0 else 'text-red-400' }}">
      ${{ "%+.2f"|format(realized_cents / 100) }}
    </div>
  </div>

  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Gross P&amp;L</div>
    <div class="text-2xl font-bold {{ 'text-emerald-400' if total_pnl_cents >= 0 else 'text-red-400' }}">
      ${{ "%+.2f"|format(total_pnl_cents / 100) }}
    </div>
  </div>
</div>

<!-- Fees & Net P&L -->
<div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
  <div class="bg-slate-900 border border-amber-900/50 rounded-lg p-5">
    <div class="text-xs text-amber-500/70 uppercase tracking-wide mb-1">Total Fees</div>
    <div class="text-2xl font-bold text-amber-400">
      -${{ "%.2f"|format(total_fees_cents / 100) }}
    </div>
    <div class="text-[11px] text-slate-500 mt-1">Fee: 1&cent; per contract</div>
  </div>

  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Net P&amp;L</div>
    <div class="text-2xl font-bold {{ 'text-emerald-400' if net_pnl_cents >= 0 else 'text-red-400' }}">
      ${{ "%+.2f"|format(net_pnl_cents / 100) }}
    </div>
  </div>
</div>

<!-- Secondary stats -->
<div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8">
  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Open Positions</div>
    <div class="text-xl font-semibold text-white">{{ open_count }}</div>
  </div>

  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Total Trades</div>
    <div class="text-xl font-semibold text-white">{{ total_trades }}</div>
  </div>

  <div class="bg-slate-900 border border-slate-800 rounded-lg p-5">
    <div class="text-xs text-slate-500 uppercase tracking-wide mb-1">Win Rate</div>
    <div class="text-xl font-semibold text-white">{{ "%.1f"|format(win_rate) }}%</div>
  </div>
</div>

<!-- Quick links -->
<div class="flex flex-wrap gap-3">
  <a href="/positions" class="px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-md text-sm text-slate-300">View Positions &rarr;</a>
  <a href="/charts" class="px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-md text-sm text-slate-300">Monitor Charts &rarr;</a>
  <a href="/trades" class="px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-md text-sm text-slate-300">Trade History &rarr;</a>
  <a href="/scanner" class="px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-md text-sm text-slate-300">Run Scanner &rarr;</a>
  <a href="/control" class="px-4 py-2 bg-brand-600 hover:bg-brand-700 rounded-md text-sm text-white">Execute Trade &rarr;</a>
</div>
{% endblock %}
